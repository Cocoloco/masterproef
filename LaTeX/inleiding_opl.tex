
\section{Inleiding}
De keuze voor vertrekpunt van onze oplossing viel op de werkwijze van Z. Erkin, T. Veugen en R.L. Lagendijk beschreven in "Privacy-preserving recommender systems in dynamic environments \cite{ZErkinDyn}". Deze laat user-user collaborative filtering toe op een privacyvriendelijke manier. Kort samengevat gaat deze een voorspelling van een beoordeling van een gebruiker A doen door de gemiddelde rating te nemen van gebruikers die een gelijkenis hebben met A die hoger ligt dan een bepaalde drempelwaarde. 

\begin{equation}\label{stdrecom}p_{U_1,i} = \frac{\sum_{j=2}^{n}r_{(U_j,i)}.s_{(U_1,U_j)}}{\sum_{j=2}^{n} s_{(U_1,U_j)}}
\end{equation}
De voorspelde score p voor gebruiker $U_1$ voor een item i wordt dus berekend door de som te nemen van de beoordelingen van de andere gebruikers $U_2 ... U_n$ die respectievelijk vermenigvuldigd worden met het \emph{similaritybit} s. Deze bit geeft aan of de gelijkeniswaarde tussen gebruiker $U_1$ en $U_j$ boven de aangegeven drempelwaarde ligt. De som wordt dan gedeeld door het aantal gebruikte beoordelingen. De basis van de werkwijze uit \cite{ZErkinDyn} is gebleven, maar er werden eigen accenten gelegd rekening houdend met de mobiele setting en een alternatieve wijze aangeboden om aanbevelingen te berekenen. \\Net als het besproken systeem in paragraaf \ref{cryptoprotocollen} maakt dit systeem gebruik van cryptografische protocollen met behulp van een Paillier en een DGK-cryptosysteem. Technieken gebaseerd op cryptografie hebben het voordeel dat de privacy bewijsbaar is als de gebruikersdata wordt ge\"encrypteerd. De service provider kan dan door de homomorfische eigenschappen van de cryptosystemen zijn taken verrichten zonder toegang te krijgen tot deze data. Buiten de gebruikersvoorkeuren worden ook de gelijkeniswaarden tussen gebruikers en de uiteindelijke aanbevelingen afgeschermd van de service provider door encryptie.\\ Om problemen te voorkomen in een dynamische setting zoals in \ref{cryptoprotocollen} wordt ook de informatie verminderd waarover de provider beschikt bij herhaaldelijke aanvragen van aanbevelingen. Dit wordt verwezenlijkt door gebruik te maken van een tweede server, een server die onafhankelijk moet zijn van de server van de service provider. Deze tweede server wordt in dit naslagwerk ook vernoemd als controle server. De controle server gedraagt zich als privacy provider. Deze rol kan bijvoorbeeld vervuld worden door de overheid of een ander commercieel bedrijf. Het gebruik ervan zou opgelegd kunnen worden door de overheid in bepaalde privacygevoelige sectoren zoals bijvoorbeeld een systeem gebaseerd op medische data. Er wordt vanuit gegaan dat beide servers optreden in een \emph{semi-honest} model, wat betekent dat ze betrouwbaar genoeg zijn om het onderling protocol in volgorde uit te voeren. \\ Beide servers beschikken over een Paillier-sleutelpaar, hiernaast heeft de controleserver ook een DGK-sleutelpaar. Voor de Paillier-encryptie werd er beroep gedaan op code uit The Homomorphic Encryption Project (THEP \footnote{https://code.google.com/p/thep/}) en de DGK-encryptie gebeurde met code uit een ander open source project \footnote{https://github.com/winderif/PTSwithGC/tree/master/Crypto}. Zoals eerder vermeld werd er gekozen om de clientapplicatie uit te werken in Android en deze communiceert met de Javaservers via het HTTP-protocol. We gebruiken de MovieLens database, een standaard voor het testen van aanbevelingssystemen.